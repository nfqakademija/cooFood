{% extends '::base.html.twig' %}

{% block body -%}
    <h1>event</h1>

    <table class="record_properties">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ entity.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ entity.name }}</td>
            </tr>
            <tr>
                <th>Eventdate</th>
                <td>{{ entity.eventDate|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Joindatestart</th>
                <td>{{ entity.joinDateStart|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Joindateend</th>
                <td>{{ entity.joinDateEnd|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Orderdeadlinedate</th>
                <td>{{ entity.orderDeadlineDate|date('Y-m-d H:i:s') }}</td>
            </tr>
            <tr>
                <th>Idcity</th>
                <td>{{ entity.idCity }}</td>
            </tr>
            <tr>
                <th>Idaddress</th>
                <td>{{ entity.idAddress }}</td>
            </tr>
            <tr>
                <th>Place</th>
                <td>{{ entity.place }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ entity.description }}</td>
            </tr>
            <tr>
                <th>Idsupplier</th>
                <td>{{ entity.idSupplier }}</td>
            </tr>
            <tr>
                <th>Iduser</th>
                <td>{{ entity.idUser }}</td>
            </tr>
            <tr>
                <th>Visible</th>
                <td>{{ entity.visible }}</td>
            </tr>
            <tr>
                <th>Reqapprove</th>
                <td>{{ entity.reqApprove }}</td>
            </tr>
        </tbody>
    </table>

    {% if participants %}
        {% for participant in participants %}
            <li><p>{{ participant }}</p></li>
        {% endfor %}
    {% endif %}

    <ul class="record_actions">
        <li>
            <a href="{{ path('event') }}">
                Back to the list
            </a>
        </li>
        <li>
            <a href="{{ path('event_edit', { 'id': entity.id }) }}">
                Edit
            </a>
        </li>
        <li>{{ form(delete_form) }}</li>
    </ul>

    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
        {% if joined == false %}
        <form action="{{ path('userevent_create', { "eventId":  entity.id  }) }}" method="post"  >

            <input type="submit" label="Dalyvauti" />
        </form>
        {% else %}
            <!-- leave event -->
        {% endif %}
    {% else %}
        <!-- please login -->
    {% endif %}

{% endblock %}
